{"version":3,"sources":["webpack:///webpack/bootstrap e5cdb8cdab331ee4d085","webpack:///./src/app.js","webpack:///./src/views/ui.js","webpack:///./src/models/countries.js","webpack:///./src/models/country.js","webpack:///./src/models/animals.js","webpack:///./src/models/animal.js","webpack:///./src/models/mapWrapper.js","webpack:///./src/views/attenUI.js","webpack:///./src/views/quizUI.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,iBAAgB;AAChB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,qB;;;;;;AC1BA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA,wB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;;;;;AAKH;AACA;AACA,EAAC;;;AAGD;AACA;AACA,EAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT,QAAO;AACP;AACA,MAAK;AACL,IAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yC;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,wBAAuB,yBAAyB;AAChD;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA,4C;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,E;AACb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS,E;AACT,gB;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,U;AACA,QAAO,E;AACP,gB;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA,kCAAiC,+CAA+C;;AAEhF;AACA;AACA;;AAEA;AACA;AACA,SAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA0B,+CAA+C;AACzE,S;AACA;AACA,OAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;;AAEA,qB;;;;;;ACvWA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,gB;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,4B;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,0B;;;;;;ACXA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,0B;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA,yB;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA,qBAAoB,+D;AACpB,wC;AACA;;AAEA;AACA;AACA,YAAW;;;AAGX;AACA;AACA,MAAK;AACL;AACA;;AAEA;;;;;;;;AC9FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA,0B;;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO,E;AACP,mB;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO,E;AACP;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO,E;AACP;AACA;AACA;AACA;AACA;;;AAGA,yB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e5cdb8cdab331ee4d085","var UI = require(\"./views/ui\");\nvar AttenUI = require(\"./views/attenUI.js\");\nvar QuizUI = require(\"./views/quizUI.js\");\nvar Animals = require(\"./models/animals.js\");\nvar MapWrapper = require(\"./models/mapWrapper.js\");\n\nvar animal = null;\n\nvar app = function() {\n\n  //creates the map\n  mapDiv = document.querySelector(\"#mapDiv\");\n  var centre = {lat: 56, lng: -3 };\n  this.map = new MapWrapper(centre, 3);\n  this.map.geoLocate();\n\n  var ui = new UI(this.map);\n  ui.addHereToDB();\n\n  var attenUI = new AttenUI();\n  var quizUI = new QuizUI();\n\n  attenUI.startText();\n  \n}\n\nwindow.onload = app;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.js\n// module id = 0\n// module chunks = 0","var Countries = require(\"../models/countries.js\");\nvar Country = require(\"../models/country.js\");\nvar Animals = require(\"../models/animals.js\");\nvar Animal = require(\"../models/animal.js\");\nvar MapWrapper = require(\"../models/mapWrapper.js\");\n\n\nvar AttenUI = require(\"./attenUI.js\");\nvar QuizUI = require(\"./quizUI.js\");\nvar attenUI = new AttenUI();\nvar quizUI = new QuizUI();\n// var QuizUI = new QuizUI();\n\nvar UI = function(map){ \n  // document.innerHTML = \"\"\n  var goButton = document.querySelector(\"#go-button\");\n  goButton.onclick = this.handleGoButton.bind(this);\n\n  // var africaSound = document.querySelector(\"#savannah\")\n  // africaSound.play();\n\n  var resetButton = document.querySelector(\"#reset-button\");\n  resetButton.onclick = this.handleResetButton.bind(this);\n\n  this.countries = new Countries();\n  this.animals = new Animals();\n\n  this.countries.allAPI(function(result){\n    this.renderCountriesList(result);\n  }.bind(this));\n\n\n\n\nthis.animals.allVisited(function(result){\n  this.renderNotebookAnimal(result);\n}.bind(this));\n\n\nthis.countries.allVisited(function(result){\n  this.renderNotebookCountry(result);\n}.bind(this));\n\n}\n\nUI.prototype = {\n  addHereToDB: function(){\n    var countries = new Countries;\n    countries.allVisited(function(countriesVisited){\n      if (countriesVisited.length === 0){\n\n        navigator.geolocation.getCurrentPosition(function(position) {\n        // add dummy country \"here\" to countriesVisited collection in db\n        var here = {\n          name: \"here\",\n          coords: [position.coords.latitude, position.coords.longitude],\n          arrivalText: \"\",\n          countryFlag: \"\"\n        }\n\n        countries.makePost(\"/countries\", here, function(data){\n        });\n      });\n      }\n    })\n  },\n\n  renderCountriesList: function(countriesAPI){\n\n    var countriesSelect = document.querySelector(\"#selector\");\n    countriesSelect.innerHTML = \"\"\n\n    var unselectable = document.createElement(\"option\");\n    unselectable.innerText = \"Country:\"\n    unselectable.disabled = true;\n    unselectable.selected = true;\n    countriesSelect.appendChild(unselectable);\n\n    for (var country of countriesAPI){\n      var countryChoice = document.createElement(\"option\");\n      countryChoice.innerText = country.name;\n      countryChoice.value = JSON.stringify(country);\n      countriesSelect.appendChild(countryChoice);\n    }\n  },\n\n  handleGoButton: function(){\n    var selectedCountry = document.querySelector(\"#selector\");\n    var countryObject = JSON.parse(selectedCountry.value);\n    var self = this;\n    attenUI.goButton(countryObject)\n    var animals = new Animals();\n    var animalObject = null;\n\n    animals.allAPI(function(animalsAPI){ \n      for(var animal of animalsAPI){\n        if (animal.country === countryObject.name) {\n          animalObject = animal;\n        }\n      }\n    });\n\n    var nextButton = document.querySelector(\"#next-button\");\n    var buttonDiv = document.querySelector(\"#QButtons\");\n    buttonDiv.style.visibility = \"hidden\";\n    nextButton.style.visibility = \"visible\";\n    nextButton.onclick = function(){\n      console.log(\"hi there\")\n      quizUI.createAnswerButtons(animalObject);\n      quizUI.changeAttenTalk(animalObject);\n\n    ////////////Question Buttons\n\n    var answerButton = document.querySelectorAll(\".animalNameButton\");\n\n    var answerButtonsClickBehavour = function() {\n      var firedButton = this.innerText;\n      buttonDiv.style.visibility = \"hidden\";\n      nextButton.style.visibility = \"visible\";\n          // console.log(firedButton)\n          quizUI.answerQuestion(animalObject, firedButton);\n\n        }\n\n        for (var i = 0; i < answerButton.length; i++) {\n          answerButton[i].onclick = answerButtonsClickBehavour;\n        }\n      }\n\n    ///Audio\n\n    var myAudio = document.getElementById(\"myAudio\");\n    var isPlaying = false;\n\n    var togglePlay = function(countryObject) {\n      if (isPlaying) {\n        myAudio.stop()\n      }\n      switch (countryObject.name) {\n        case \"West Africa\":\n        document.getElementById(\"myAudio\").src=\"../resources/savannah.mp3\";\n        myAudio.play();\n        break;\n        case \"China\":\n        document.getElementById(\"myAudio\").src=\"../resources/mountainsOfChina.mp3\";\n        myAudio.play();\n        break;\n      }\n    }\n\n    togglePlay(countryObject);\n\n    myAudio.onplaying = function() {\n      isPlaying = true;\n    };\n    myAudio.onpause = function() {\n      isPlaying = false;\n    };\n\n    // add country to countriesVisited collection in db\n    this.addCountryToDb(function(){\n      var countries = new Countries;\n      countries.allVisited(function(result){\n        self.renderNotebookCountry(result);\n      }.bind(this));\n    });\n\n    // pan to the selected country on the map\n    map.panTo(countryObject.coords[0], countryObject.coords[1]);\n\n  },\n\n  addAnimalToDb: function(animalObject, callback){\n    // var selectedCountry = document.querySelector(\"#selector\");\n    // var countryObject = JSON.parse(selectedCountry.value);\n    var animals = new Animals();\n\n    var animalObject = animalObject;\n\n    // animals.allAPI(function(animalsAPI){ \n    //   for(var animal of animalsAPI){\n    //     if (animal.country === countryObject.name) {\n    //       animalObject = animal;\n    //     }\n    //   }\n    // });\n\n    animals.allVisited(function(animalsVisited){\n      if (animalsVisited.length === 0){\n            // add animal to animalsVisited collection in db\n            var newAnimal = {\n              name: animalObject.name,\n              country: animalObject.country,\n              questions: animalObject.questions,\n              answerText: animalObject.answerText,\n              image: animalObject.image,\n              finishingText: animalObject.finishingText\n            }\n\n            animals.makePost(\"/animals\", newAnimal, function(data){\n              console.log(\"new animals added to db\", newAnimal.name);\n            }); \n          }\n        });\n\n    animals.allVisited(function(animalsVisited){\n      var matches = 0;\n      var arrayLength = animalsVisited.length\n      for(var animal of animalsVisited){\n        if (animal.name !== animalObject.name) {\n          matches ++;\n        }\n      }\n\n      if (matches === arrayLength){\n        console.log(animalObject.name + \" has been visited before. Not added to DB\");\n            // add country to countriesVisited collection in db\n            var newAnimal = {\n              name: animalObject.name,\n              country: animalObject.country,\n              questions: animalObject.questions,\n              answerText: animalObject.answerText,\n              image: animalObject.image,\n              finishingText: animalObject.finishingText\n            }\n            animals.makePost(\"/animals\", newAnimal, function(data){\n            });\n          }\n        }); \n    callback(); \n  },\n\n  addCountryToDb: function(callback){\n    var selectedCountry = document.querySelector(\"#selector\");\n    var countryObject = JSON.parse(selectedCountry.value);\n    var countries = new Countries;\n    countries.allVisited(function(countriesVisited){\n      if (countriesVisited.length === 0){\n        // add country to countriesVisited collection in db\n        var newCountry = {\n          name: countryObject.name,\n          coords: [countryObject.coords[0], countryObject.coords[1]],\n          arrivalText: countryObject.arrivalText,\n          countryFlag: countryObject.countryFlag\n        }\n        countries.makePost(\"/countries\", newCountry, function(data){\n        });\n      };\n    });\n\n    countries.allVisited(function(countriesVisited){\n      var matches = 0;\n      var arrayLength = countriesVisited.length;\n\n      for(var country of countriesVisited){\n        if (country.name !== countryObject.name){\n          matches ++ ;\n        }\n      }\n\n      if(matches === arrayLength){\n          // add country to countriesVisited collection in db\n          var newCountry = {\n            name: countryObject.name,\n            coords: [countryObject.coords[0], countryObject.coords[1]],\n            arrivalText: countryObject.arrivalText,\n            countryFlag: countryObject.countryFlag\n          }\n          countries.makePost(\"/countries\", newCountry, function(data){\n          });\n        }       \n      }); \n    callback(); \n  },\n\n  renderNotebookCountry: function(countryList){\n    // filtering out the unique visited countries for flags and markers(may have been visited more than once).\n    console.log(\"countryList\", countryList);\n\n    var visitedCountriesFlags = [];\n    for (var country of countryList){\n     visitedCountriesFlags.push(country.countryFlag);\n     var marker = map.addMarker({lat: country.coords[0], lng: country.coords[1]});\n\n         // add the info window to the map\n         map.addInfoWindow(this.map, marker, \"<h2>\" + country.name + \"</h2>\");\n       }\n\n       var filterVisitedCountries = visitedCountriesFlags.filter(function(country, index, countryList){\n         return visitedCountriesFlags.indexOf(country) === index;\n       });\n\n       //filling the notebook with visitedCountries flags\n       var notebookFlags = document.querySelector(\"#flagsDiv\");\n       notebookFlags.innerHTML = \"\";\n       for(var country of filterVisitedCountries){\n         var countryVisited = document.createElement(\"img\");\n         countryVisited.src = country;\n         countryVisited.width = 100;\n         countryVisited.id = \"flag\";\n         notebookFlags.appendChild(countryVisited);\n       }\n\n       //add the polyline to the map\n       var pathCoords = [];\n       for (var country of countryList){\n         pathCoords.push({lat: country.coords[0], lng: country.coords[1]});\n       } \n       map.addPolyline(pathCoords);\n     },\n\n     renderNotebookAnimal: function(animalList){\n   // filtering out the unique visited animals for photos (may have been visited more than once).\n   var visitedAnimals = [];\n   for (var animal of animalList){\n    visitedAnimals.push(animal);\n  }\n  console.log(\"animals visited\", visitedAnimals);\n\n  var filterVisitedAnimals = visitedAnimals.filter(function(animal, index, animalList){\n    return visitedAnimals.indexOf(animal) === index;\n  });\n\n    //filling the notebook with visitedAnimals images\n    var notebookPhotos = document.querySelector(\"#photosDiv\");\n    notebookPhotos.innerHTML = \"\";\n    for(var animal of filterVisitedAnimals){\n      var animalNote = document.createElement(\"h5\");\n      animalNote.innerText = animal.name + \"\\n\";\n      var photo = document.createElement(\"img\");\n      photo.id = \"photo\"\n      photo.src = animal.image;\n      notebookPhotos.appendChild(animalNote);\n      animalNote.appendChild(photo);\n    }\n  },\n\n  handleResetButton: function(){\n    window.location.reload();\n    var self = this;\n\n    this.countries.makeDeleteRequest(\"/countries\", function(){\n      console.log(\"countriesVisited dropped\");\n      var countries = new Countries;\n      countries.allVisited(function(result){\n        self.renderNotebookCountry(result);\n      }.bind(this));\n    });\n\n    this.animals.makeDeleteRequest(\"/animals\", function(){\n      console.log(\"animalsVisited dropped\");\n      var animals = new Animals;\n      animals.allVisited(function(result){\n        self.renderNotebookAnimal(result);\n      }.bind(this));\n    });\n  }\n}\n\nmodule.exports = UI;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ui.js\n// module id = 1\n// module chunks = 0","var Country = require(\"./country\");\n\nvar Countries = function(){\n\n}\n\nCountries.prototype = {\n  makeRequest: function(url, callback){\n    var request = new XMLHttpRequest();\n    request.open(\"GET\", url, false);\n    request.onload = callback;\n    request.send();\n  },\n\n  makePost: function(url, newData, callback){\n    var data = JSON.stringify(newData);\n    var request = new XMLHttpRequest();\n    request.open(\"POST\", url);\n    request.setRequestHeader(\"Content-type\", \"application/json\");\n    request.onload = callback;\n    request.send(data);\n  },\n\n  makeDeleteRequest: function(url, callback){\n    var request = new XMLHttpRequest();\n    request.open(\"DELETE\", url);\n    request.setRequestHeader(\"Content-type\", \"application/json\");\n    request.onload = callback;\n    request.send();\n  },\n\n  allVisited: function(callback){\n  var self = this;\n    this.makeRequest(\"http://localhost:3000/countries\", function() {\n      if (this.status !== 200)\n        return;      \n      var jsonString = this.responseText;\n      var result = JSON.parse(jsonString);\n      callback(result);\n    });\n  }, \n\n  allAPI: function(callback){\n    var self = this;\n    this.makeRequest(\"http://localhost:3000/countries/api\", function(){\n      if(this.status !== 200) \n        return;\n      var jsonString = this.responseText;\n      var results = JSON.parse(jsonString);\n      var countriesAPI = self.populateDropDownList(results);\n      callback(countriesAPI);\n    })\n  },\n\n  populateDropDownList: function(results){\n    var Countries = [];\n    for (var result of results){\n      var country = new Country (result);\n    Countries.push(country);\n    }\n    return Countries;\n  }\n\n}\n\nmodule.exports = Countries;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/models/countries.js\n// module id = 2\n// module chunks = 0","var Country = function(options){\n  this.name = options.name;\n  this.coords = options.coords;\n  this.arrivalText = options.arrivalText;\n  this.countryFlag = options.countryFlag;\n}\n\nCountry.prototype = {\n\n}\n\nmodule.exports = Country;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/models/country.js\n// module id = 3\n// module chunks = 0","var Animal = require(\"./animal\");\n\nvar Animals = function(){\n\n}\n\nAnimals.prototype = {\n  makeRequest: function(url, callback){\n    var request = new XMLHttpRequest();\n    request.open(\"GET\", url, false);\n    request.onload = callback;\n    request.send();\n  },\n\n  makePost: function(url, newData, callback){\n    console.log(\"makePost started\");\n    var data = JSON.stringify(newData);\n    var request = new XMLHttpRequest();\n    request.open(\"POST\", url);\n    request.setRequestHeader(\"Content-type\", \"application/json\");\n    request.onload = callback;\n    request.send(data);\n  },\n\n  makeDeleteRequest: function(url, callback){\n    var request = new XMLHttpRequest();\n    request.open(\"DELETE\", url);\n    request.setRequestHeader(\"Content-type\", \"application/json\");\n    request.onload = callback;\n    request.send();\n  },\n\n  allVisited: function(callback){\n    var self = this;\n    this.makeRequest(\"http://localhost:3000/animals\", function(){\n      if(this.status !== 200) return;\n      var jsonString = this.responseText;\n      var results = JSON.parse(jsonString);\n      var animalsDB = self.populateAnimalsList(results);\n      callback(animalsDB);\n    })\n  },\n\n  allAPI: function(callback){\n  var self = this;\n    this.makeRequest(\"http://localhost:3000/animals/api\", function() {\n      if (this.status !== 200){\n        return;\n      }\n      var jsonString = this.responseText;\n      var result = JSON.parse(jsonString);\n      callback(result);\n    });\n  }, \n\n  populateAnimalsList: function(results){\n    var animals = [];\n    for (var result of results){\n      var animal = new Animal (result);\n    animals.push(animal);\n    }\n    return animals;\n  }\n\n}\n\nmodule.exports = Animals;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/models/animals.js\n// module id = 4\n// module chunks = 0","var Animal = function(options){\n  this.name = options.name;\n  this.country = options.country;\n  this.questions = options.questions;\n  this.answerText = options.answerText;\n  this.image = options.image;\n  this.buttonValues = options.buttonValues;\n}\n\nAnimal.prototype = {\n \n}\n\n  //use on button press do this function, if this happens restart\n\n\nmodule.exports = Animal;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/models/animal.js\n// module id = 5\n// module chunks = 0","var MapWrapper = function(coords, zoom) {\n  var container = document.querySelector(\"#mapDiv\");\n    this.googleMap = new google.maps.Map(container, {\n    center: coords,\n    zoom: zoom\n    });\n}\n\n\nMapWrapper.prototype = {\n  addMarker: function(coords){\n    var marker = new google.maps.Marker({\n      position: coords,\n      map: this.googleMap,\n      animation: google.maps.Animation.DROP\n    });\n    console.log(\"marker added\");\n    return marker;\n  },\n\n  addPolyline: function(pathCoords){\n    var lineSymbol = {\n       path: \"M43.734,21c-3.631,0-15.092,0-15.092,0  S16.25,5.188,16.047,4.938s-0.422-0.594-1.125-0.672c-0.859-0.095-1.969-0.203-2.328-0.234c-0.406-0.035-0.719,0.141-0.496,0.734  C12.388,5.539,18.748,21,18.748,21H6.034c0,0-2.458-4.722-2.878-5.531C2.965,15.101,2.557,15.014,2,15H1.297  c-0.125,0-0.312,0-0.281,0.344C1.058,15.811,3,25,3,25s-1.888,9.197-1.984,9.656C0.953,34.953,1.172,35,1.297,35H2  c0.966-0.009,0.954-0.079,1.156-0.469C3.576,33.722,6.034,29,6.034,29h12.714c0,0-6.36,15.461-6.65,16.234  c-0.223,0.594,0.09,0.77,0.496,0.734c0.359-0.031,1.469-0.139,2.328-0.234c0.703-0.078,0.922-0.422,1.125-0.672S28.643,29,28.643,29  s11.461,0,15.092,0c3.766,0,5.264-3.031,5.264-4S47.484,21,43.734,21z\",\n\n       anchor: new google.maps.Point(50,25),\n       scale: 0.7,\n       strokeColor: \"red\",\n       fillColor: \"red\",\n       fillOpacity: 1,\n       strokeWeight: 0.5,\n       rotation: 270\n     };\n\n    var iconPlane = {\n        icon: lineSymbol,\n        offset: '100%'\n      };\n\n    var line = new google.maps.Polyline({\n      path: pathCoords,\n      geodesic: true,\n      strokeColor: '#FF0000',\n      strokeOpacity: 1.0,\n      strokeWeight: 1,\n      icons: [iconPlane],\n      map: this.googleMap\n    });\n\n    line.setMap(this.googleMap);\n    this.animateFlight(line, pathCoords, lineSymbol);\n  },\n\n  animateFlight: function(line, pathCoords, lineSymbol) {\n      var count = 0;\n      window.setInterval(function() {\n        count = (count + 1) % 200;\n\n        var icons = line.get('icons');\n        icons[0].offset = (count / 2) + '%';\n        line.set('icons', icons);\n    }, 20);\n  },\n\n  panTo: function(lat, lng){\n    this.googleMap.panTo(new google.maps.LatLng(lat,lng));\n    this.googleMap.setZoom(2);\n  },\n\n  addInfoWindow: function(map, marker, contentString){\n    var infoWindow = new google.maps.InfoWindow({\n          content: contentString,\n        });\n      marker.addListener(\"click\", function(){\n      infoWindow.open(this.googleMap, marker);\n    })\n  },\n\n  geoLocate: function(){\n    navigator.geolocation.getCurrentPosition(function(position) {\n      var centre = {lat: position.coords.latitude, lng: position.coords.longitude}; \n      this.googleMap.setCenter(centre); \n      var marker = this.addMarker(centre);\n\n      var infoWindow = new google.maps.InfoWindow({\n            content: \"<h2>Home</h2>\",\n          });\n\n\n      // var infoWindow = this.addInfoWindow(this.googleMap, marker, \"<h2>Home</h2>\");\n      infoWindow.open(this.googleMap, marker);\n    }.bind(this));\n  }\n}\n\nmodule.exports = MapWrapper;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/models/mapWrapper.js\n// module id = 6\n// module chunks = 0","var Countries = require(\"../models/countries.js\");\nvar Country = require(\"../models/country.js\");\nvar Animals = require(\"../models/animals.js\");\nvar Animal = require(\"../models/animal.js\");\nvar MapWrapper = require(\"../models/mapWrapper.js\");\n\nvar AttenUI = function(){\n  var attenTalk = document.querySelector(\"#attenTalk\");\n  this.buttons = document.querySelector(\"#control-container\");\n}\n\nAttenUI.prototype = {\n  goButton: function(countryObject){\n    attenTalk.innerText = countryObject.arrivalText;\n  },\n\n  initiateQuestions: function(){\n    this.initiateText = \"I think I hear an animal up ahead, Why don't you help me work out what it is by using the buttons which will appear below?\";\n    attenTalk.innerText = this.initiateText;\n  },\n\n  startText: function(){\n    this.startText = \"Welcome. To a Journey around the globe with me, David Attenborough. \\n On this journey, we are going to see some of the worlds most endangered animals, and together we shall keep a journal, taking note of these animals and the countries we find them in. \\n To choose where to travel, use the dropdown bar at the top to choose a location to visit, and press 'EXPLORE'. \\n Let's start our expedition!\",\n\n    attenTalk.innerText = this.startText;\n  },\n\n  wrongText: function(){\n    this.wrongText = \"I don't think that animal is quite right! How about another guess?\";\n    attenTalk.innerText = this.wrongText;\n  },\n\n  reasoningText: function(){\n    this.reasoningText = \"The reason for our expedition, is that animals are going extinct faster and faster, there are species your grandparents may have seen, which you will never get the chance to! \\n This is mostly because of towns and cities getting bigger, and taking up the spaces where the animals used to make home. \\n If we don't do something about this, your grandchilderen might not have many animals to learn about and see!\";\n    attenTalk.innerText = this.reasoningText;\n  },\n\n  finalWrongText: function(animalObject){\n    this.finalWrongText = animalObject.answerText;\n    attenTalk.innerText = this.finalWrongText;\n  },\n  \n  answerCorrectText: function(animalObject){\n    this.answerCorrectText = animalObject.finishingText;\n    attenTalk.innerText = this.answerCorrectText;\n  }\n}\n\nmodule.exports = AttenUI;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/attenUI.js\n// module id = 7\n// module chunks = 0","\nvar Countries = require(\"../models/countries.js\");\nvar Country = require(\"../models/country.js\");\nvar Animals = require(\"../models/animals.js\");\nvar Animal = require(\"../models/animal.js\");\nvar AttenUI = require(\"./attenUI.js\");\nvar counter = 0;\nvar finalQuestion = false;\n\n\nvar QuizUI = function(){\n\n}\n\nQuizUI.prototype = {\n  createAnswerButtons: function(animal){\n    // console.log(AttenUI)\n    var buttonDiv = document.querySelector(\"#QButtons\");\n    buttonDiv.innerHTML = \"\";\n\n    var qAnswers = animal.buttonValues;\n\n    for (var answer of qAnswers) {\n      var answerButtons = document.querySelector(\"#QButtons\");\n      var answerButton = document.createElement(\"button\");\n      answerButton.id = \"answerButton\";\n      answerButton.classList.add(\"animalNameButton\");\n      answerButton.innerText = answer;\n      answerButtons.appendChild(answerButton);\n    }\n  },\n\n  changeAttenTalk: function(animal) {\n\n    attenUI = new AttenUI();\n    var buttonDiv = document.querySelector(\"#QButtons\");\n    var nextButton = document.querySelector(\"#next-button\");\n    counter ++;\n    questionsObject = animal.questions;\n    // console.log(questionsObject);\n    if(counter === 1){\n      attenUI.initiateQuestions();\n    }\n    else if (counter === 2) {\n      nextButton.style.visibility = \"hidden\";\n      buttonDiv.style.visibility = \"visible\";\n      attenTalk.innerText = questionsObject.one;\n    }\n    else if (counter === 3) {\n      nextButton.style.visibility = \"hidden\";\n      buttonDiv.style.visibility = \"visible\";\n      attenTalk.innerText = questionsObject.two;\n    } \n    else if (counter === 4) {\n      nextButton.style.visibility = \"hidden\";\n      buttonDiv.style.visibility = \"visible\";\n      attenTalk.innerText = questionsObject.three\n      finalQuestion = true;\n    }\n    else { console.log(\"finished!\")\n    // addAnimalToDb();\n    }\n  },\n\n  answerQuestion: function(animal, button) {\n    var UI = require(\"./ui\");\n    var nextButton = document.querySelector(\"#next-button\");\n    var attenUI = new AttenUI();\n    var ui = new UI();\n    // console.log(\"this\" + this)\n\n  // console.log(ui)\n    console.log(AttenUI)\n    if (animal.name === button && !finalQuestion) {\n      attenUI.answerCorrectText(animal);\n      // nextButton.style.visibility = \"hidden\";\n    console.log(\"correct 1 2\")\n      ui.addAnimalToDb(animal, function(){\n        // console.log(\"Here I am\")\n        var animals = new Animals;\n        animals.allVisited(function(result){\n          // console.log(\"Here\" + ui)\n          ui.renderNotebookAnimal(result);\n        });\n      }); \n      counter = 0; \n    } else if (animal.name !== button && !finalQuestion){\n    // counter ++;\n      attenUI.wrongText();\n    } else if (animal.name !== button && finalQuestion){\n\n      attenUI.finalWrongText(animal);\n      nextButton.style.visibility = \"hidden\";\n  // console.log(\"all wrong\")\n      ui.addAnimalToDb(animal, function(){\n        // console.log(\"Here I am\")\n        var animals = new Animals;\n        animals.allVisited(function(result){\n          // console.log(\"Here\" + ui)\n          ui.renderNotebookAnimal(result);\n        });\n      });  \n  counter = 0;\n  finalQuestion = false;\n    } else if (animal.name === button && finalQuestion){\n\n      attenUI.answerCorrectText(animal);\n      nextButton.style.visibility = \"hidden\";\n  // console.log(\"correct 3\")\n      ui.addAnimalToDb(animal, function(){\n        // console.log(\"Here I am\")\n        var animals = new Animals;\n        animals.allVisited(function(result){\n          // console.log(\"Here\" + ui)\n          ui.renderNotebookAnimal(result);\n        });\n      });  \n  counter = 0;\n  finalQuestion = false;\n    }\n  }\n}\n\n\nmodule.exports = QuizUI;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/quizUI.js\n// module id = 8\n// module chunks = 0"],"sourceRoot":""}